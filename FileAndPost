using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Task4
{
    class Program
    {
        static void Main(string[] args)
        {
            bool isOnLine = true;
            string[] file = {"Сергей Сергеевич Пупкин","Денис Денисович Ежиков", "Борис Борисович Котейкин"};
            string[] post = { "Директор", "Инженер", "Менеджер"};
            Console.SetCursorPosition(10, 0);
            Console.WriteLine("Для выбора пункта меню введите его порядковый номер\n");
            Console.WriteLine("1.Вывести все досье\n2.Добавить досье\n3.Удалить досье\n4.Поиск по фамилии\n5.Выход");

            while (isOnLine)
            {
                switch (Console.ReadLine())
                {
                    case "1":
                        PrintFile(file, post);
                        break;
                    case "2":
                        AddFile(ref file, ref post);
                        break;
                    case "3":
                        DeleteFile(ref file, ref post);
                        break;
                    case "4":
                        SurNameSearch(file, post);
                        break;
                    case "5":
                        isOnLine = false;
                        break;
                }
            }
            Console.ReadLine();
        } 
        
        public static void PrintFile(string[] file, string[] post)
        {
            Console.WriteLine("Все досье компании");

            for (int i = 0; i < file.Length; i++)
            {
                Console.Write((i + 1) + file[i] + " - " + post[i] + ".");
            }
            Console.WriteLine();
        }

        public static void AddFile(ref string[] file, ref string[] post)
        {
            string[] tempFile = new string[file.Length + 1];
            string[] tempPost = new string[post.Length + 1];

            for (int i = 0; i < file.Length; i++)
            {
                tempFile[i] = file[i];
                tempPost[i] = post[i];
            }
            file = tempFile;
            post = tempPost;

            Console.WriteLine("Введите ФИО сотрудника");
            tempFile[tempFile.Length - 1] = Console.ReadLine();
            Console.WriteLine("Введите должность сотрудника");
            tempPost[tempPost.Length - 1] = Console.ReadLine();
        }

        public static void DeleteFile(ref string[] file, ref string[] post)
        {
            string[] tempFile = new string[file.Length - 1];
            string[] tempPost = new string[post.Length - 1];
            Console.WriteLine("Введите номер досье для удаления");
            int index = Convert.ToInt32(Console.ReadLine()) - 1;
            if (index < 0 || index > tempFile.Length && index > tempPost.Length)
            {
                Console.WriteLine("Такого досье не существует");
            }
            else 
            {
                for (int i = 0; i < index; i++)
                {
                    tempFile[i] = file[i];
                    tempPost[i] = post[i];
                }

                for (int i = index + 1; i < file.Length; i++)
                {
                    tempFile[i - 1] = file[i];
                    tempPost[i - 1] = post[i];
                }

                file = tempFile;
                post = tempPost;
            }
       
        }

        public static void SurNameSearch(string[] file, string[] post)
        {
            string surName;
            bool fileIsFind = false;
            Console.WriteLine("Введите фамилию сотрудника");
            surName = Console.ReadLine();

            for (int i = 0; i < file.Length; i++)
            {                
                if (file[i].ToLower().EndsWith(surName.ToLower()))
                {
                    Console.WriteLine("Досье сотрудника " + surName + " находится под номером " + (i + 1));
                    fileIsFind = true;
                }            
            }

            if (fileIsFind == false)
            {
                Console.WriteLine("В компании нет такого сотрудника");
            }
        }
    }
}
