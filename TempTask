using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Task2
{
    class Program
    {
        static void Main(string[] args)
        {
            ServiceStation serviceStation = new ServiceStation();
            serviceStation.FillWarehouse();
            serviceStation.ShowWarehouse();
            serviceStation.CreateQueue();
            Console.ReadLine();
        }
    }
    
    class ServiceStation
    {
        private int ShopAccount = 1000;
        private Random _random = new Random();
        private Queue<Client> _clients = new Queue<Client>();
        private List<Warehouse> _partsInWarehouse = new List<Warehouse>();

        public ServiceStation()
        {
            
        }

        public void FillWarehouse()
        {
            _partsInWarehouse.Add(new Warehouse(new Part("Колодки", 250), 2));
            _partsInWarehouse.Add(new Warehouse(new Part("Свеча", 50), 10));
            _partsInWarehouse.Add(new Warehouse(new Part("Масло", 500), 2));
            _partsInWarehouse.Add(new Warehouse(new Part("Лампа ДС", 150), 6));
            _partsInWarehouse.Add(new Warehouse(new Part("Фильтр масляный", 200), 4));
            _partsInWarehouse.Add(new Warehouse(new Part("Фильтр воздушный", 100), 4));
        }

        public void ShowWarehouse()
        {            
            for (int i = 0; i < _partsInWarehouse.Count; i++)
            {
                _partsInWarehouse[i].ShowInfo();
            }
        }

        public void CreateQueue()
        {
            int minNumberClient = 6;
            int maxNumberClient = 10;
            int clientsCount = _random.Next(minNumberClient, maxNumberClient);

            for (int i = 0; i < clientsCount; i++)
            {
                //_clients.Enqueue(GetClient());
            }
        }

        
        private Client GetClient()
        {
            BreackDown breackDown;
            int minMoneyCount = 500;
            int maxMoneyCount = 1000;
            int moneyCount = _random.Next(minMoneyCount, maxMoneyCount);
            
            return new Client(moneyCount, breackDown.GetBreackdown());
        }       
    }


    class Client
    {
        private Random _random = new Random();
        public int Money { get; private set; }
        public string BreackDown { get; private set; }
        
        public Client(int money, string breackdown)
        {
            Money = money;
            BreackDown = breackdown;
        }
    }

    class BreackDown
    {
        private List<BreackDown> _breackDowns = new List<BreackDown>();
        public string Task { get; private set; }
        public BreackDown(string task)
        {
            Task = task;
            _breackDowns.Add(new BreackDown("Требуется замена масла"));
            _breackDowns.Add(new BreackDown("Требуется замена воздушного фильтра"));
            _breackDowns.Add(new BreackDown("Требуется замена свечей"));
            _breackDowns.Add(new BreackDown("Требуется замена лампы дальнего света"));
            _breackDowns.Add(new BreackDown("Требуется замена колодок"));
            _breackDowns.Add(new BreackDown("Требуется замена масляного фильтра"));
            _breackDowns.Add(new BreackDown("Требуется замена масла"));
        }

        public string GetBreackdown()
        {

            string breackdown;

            for (int i = 0; i < _breackDowns.Count; i++)
            {
                breackdown = _breackDowns[i].Task;
                return breackdown;
            }
            return null;
        }
    }

    class Warehouse
    {
        public Part _part;
        private int _partAmount;

        public Warehouse(Part part, int partAmount)
        {
            _part = part;
            _partAmount = partAmount;
        }

        public void ShowInfo()
        {
            Console.WriteLine($"Деталь: {_part.PartName} Цена: {_part.PartPrice} Количество: {_partAmount}");
        }                
    }    
    
    class Part
    {
        public string PartName { get; private set; }
        public int PartPrice { get; private set; }

        public Part(string partName, int partPrice)
        {
            PartName = partName;
            PartPrice = partPrice;
        }        
    }
}
