using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Globalization;

namespace Task1
{
    class Program
    {
        static void Main(string[] args)
        {
            bool isOpen = true;
            string userInput;
            Player player = new Player();
            Seller seller = new Seller();
            Console.WriteLine("Добро пожаловать в лавку");
            Console.WriteLine("1.Показать инвентарь. 2.Показать товары. 3.Купить. 4.Продать. 5.Выйти из лавки");

            while (isOpen)
            {
                userInput = Console.ReadLine();

                switch (userInput)
                {
                    case "1":
                        player.ShowInventory();
                        break;
                    case "2":
                        seller.ItemsInShop();
                        break;
                    case "3":
                        //player.BuyItem(seller);
                        break;
                    case "4":
                        //player.SellItem(player, seller);
                        break;
                    case "5":
                        isOpen = false;
                        break;
                }

            }
        }
    }

    class Item
    {        
        public string Name { get; private set; }
        public string Stats { get; private set; }
        public int Price { get; private set; }

        public Item(string name, string stats, int price)
        {
            Name = name;
            Stats = stats;
            Price = price;
        }

        //public void ShowItem(int itemID)
        //{
        //    Console.WriteLine($"{itemID + 1}.{Name}, Параметры: {Stats}, Цена: {Price}");
        //}


    }

    class Slot
    {
        public List<Item> cell = new List<Item>();

        public Slot()
        {
            cell.Add(new Item("Пелье зутаницы", "Атака +3", 20));
            cell.Add(new Item("Шипованый гульфик", "Атака +3", 30));
        }
        public void ShowItem(Item item, int itemID)
        {
            Console.WriteLine($"{itemID + 1}.{item.Name}, Параметры: {item.Stats}, Цена: {item.Price}");
        }
    }
    class Player
    {
        private int _money = 100;
        public List<Slot> _inventory = new List<Slot>();

        public Player()
        {
            
        }

        public void ShowInventory(Item item)
        {
            Console.WriteLine($"Ваши вещи    Ваши деньги {_money}");
            for (int i = 0; i < _inventory.Count; i++)
            {
                _inventory[i].ShowItem(item, i);
            }
        }

        //public void BuyItem(Seller seller, Player player)
        //{
        //    int itemID;
        //    int itemCount;
        //    Console.WriteLine("Что вы хотите купить?");
        //    itemID = GetNumber();
        //    Console.WriteLine("Сколько вы хотите купить?");
        //    itemCount = GetNumber();

        //    if (itemID <= seller._shop.Count)
        //    {
        //        if (itemCount <= seller._shop[itemID].)
        //        {
        //            if (_money - seller._shop[itemID - 1].Price * itemCount > 0)
        //            {
        //                _money -= seller._shop[itemID - 1].Price * itemCount;
        //                seller.SellItem(itemID);
        //                _inventory.Add(seller._shop[itemID - 1]);
        //                seller._shop[itemID - 1].ReduceAmount(itemCount);
        //            }
        //            else
        //            {
        //                Console.WriteLine("У вас не хватает денег");
        //            }
        //        }
        //        else
        //        {
        //            Console.WriteLine("Нет такого количества товара");
        //        }
        //    }
        //    else
        //    {
        //        Console.WriteLine("Нет такого товара");
        //    }
        //}
        
        private int GetNumber()
        {
            bool isNumber = int.TryParse(Console.ReadLine(), out int number);

            if (isNumber == false)
            {
                Console.WriteLine("Введите число");
                number = 0;
                return number;
            }
            else
            {
                return number;
            }
        }
    }

    class Seller
    {
        public int shopAccount = 200;
        public List<Item> _shop = new List<Item>();

        public Seller()
        {
            _shop.Add(new Item("Зелье идиотской храбрости", "Атака +2", 20));
            _shop.Add(new Item("Шлем отваги", "Атака +1", 30));
            _shop.Add(new Item("Фляга клея", "Инициатива +2", 40));
            _shop.Add(new Item("Хотельное кольцо", "Проклятье -1", 50));
            _shop.Add(new Item("Утка обречённости", "Уровень -2", 60));
        }

        public void ItemsInShop()
        {
            Console.WriteLine($"Товары в магазине     Деньги торговца {shopAccount}");

            for (int i = 0; i < _shop.Count; i++)
            {
                //_shop[i].ShowItem(i);
            }
        }

        //public void SellItem(int itemID)
        //{
        //    shopAccount += _shop[itemID - 1].Price * _shop[itemID - 1].Amount;
        //}

        //public void ReduceAmount(Item item, int amount)
        //{
        //    if (amount <= item.Amount)
        //    {
        //        item.Amount -= amount;
        //    }
        //}
        //public void BuyItem(Player player, int itemID)
        //{
        //    shopAccount -= player._inventory[itemID - 1].Price * player._inventory[itemID - 1].Amount;
        //}
    }
}
